# ç½‘ä¸Šå•†åŸç³»ç»Ÿ - é¡¹ç›®ç»“æ„

```
sqlwork/
â”‚
â”œâ”€â”€ ğŸ“ database/                          # æ•°æ®åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ schema.sql                       # è¡¨ç»“æ„å®šä¹‰ï¼ˆ134è¡Œï¼‰
â”‚   â””â”€â”€ seed_data.sql                    # æµ‹è¯•æ•°æ®ï¼ˆ138è¡Œï¼‰
â”‚
â”œâ”€â”€ ğŸ“ backend/                           # åç«¯ä»£ç 
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ api/                          # APIè·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py                  # åŒ…åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ auth.py                      # è®¤è¯æ¥å£ï¼ˆ3ä¸ªï¼‰
â”‚   â”‚   â”œâ”€â”€ merchant.py                  # å•†å®¶ç«¯æ¥å£ï¼ˆ11ä¸ªï¼‰
â”‚   â”‚   â”œâ”€â”€ user.py                      # ä¹°å®¶ç«¯æ¥å£ï¼ˆ4ä¸ªï¼‰
â”‚   â”‚   â””â”€â”€ common.py                    # é€šç”¨æ¥å£ï¼ˆ4ä¸ªï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ models/                       # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ __init__.py                  # åŒ…åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ models.py                    # ORMæ¨¡å‹ï¼ˆ4ä¸ªè¡¨ï¼‰
â”‚   â”‚   â””â”€â”€ schemas.py                   # Pydantic Schemaï¼ˆ20+ä¸ªï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ services/                     # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ __init__.py                  # åŒ…åˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ auth.py                      # è®¤è¯æœåŠ¡ï¼ˆJWTã€å¯†ç åŠ å¯†ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ ai/                           # AIæ™ºèƒ½æ¨¡å— â­
â”‚   â”‚   â”œâ”€â”€ __init__.py                  # åŒ…åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ recommender.py               # ååŒè¿‡æ»¤æ¨èå¼•æ“ï¼ˆ241è¡Œï¼‰
â”‚   â”‚   â””â”€â”€ advisor.py                   # AIç»è¥å»ºè®®ç”Ÿæˆå™¨ï¼ˆ211è¡Œï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ config.py                        # é…ç½®ç®¡ç†ï¼ˆ35è¡Œï¼‰
â”‚   â”œâ”€â”€ database.py                      # æ•°æ®åº“è¿æ¥ï¼ˆ34è¡Œï¼‰
â”‚   â”œâ”€â”€ main.py                          # FastAPIåº”ç”¨å…¥å£ï¼ˆ69è¡Œï¼‰
â”‚   â”œâ”€â”€ requirements.txt                 # Pythonä¾èµ–ï¼ˆ16ä¸ªåŒ…ï¼‰
â”‚   â”œâ”€â”€ test_api.py                      # APIè‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆ354è¡Œï¼‰
â”‚   â”œâ”€â”€ .env.example                     # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚   â””â”€â”€ Dockerfile                       # Dockeré•œåƒæ„å»ºæ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“ frontend/                         # å‰ç«¯ä»£ç ï¼ˆå¾…å®ç°ï¼‰
â”‚   â””â”€â”€ (å¾…åˆ›å»ºVue3é¡¹ç›®)
â”‚
â”œâ”€â”€ docker-compose.yml                   # Dockerç¼–æ’é…ç½®
â”œâ”€â”€ index.html                           # APIæµ‹è¯•é¡µé¢ï¼ˆ277è¡Œï¼‰
â”œâ”€â”€ start.ps1                            # Windowså¿«é€Ÿå¯åŠ¨è„šæœ¬
â”œâ”€â”€ .gitignore                           # Gitå¿½ç•¥è§„åˆ™
â”‚
â”œâ”€â”€ ğŸ“„ README.md                         # é¡¹ç›®è¯´æ˜æ–‡æ¡£ï¼ˆ300è¡Œï¼‰
â”œâ”€â”€ ğŸ“„ USAGE_GUIDE.md                    # è¯¦ç»†ä½¿ç”¨æŒ‡å—ï¼ˆ509è¡Œï¼‰
â”œâ”€â”€ ğŸ“„ PROJECT_SUMMARY.md                # é¡¹ç›®å¼€å‘æ€»ç»“ï¼ˆ304è¡Œï¼‰
â””â”€â”€ ğŸ“„ # ç½‘ä¸Šå•†åŸç³»ç»Ÿè¯¾ç¨‹è®¾è®¡ä»»åŠ¡ä¹¦ï¼ˆä¿®è®¢å¢å¼ºç‰ˆï¼‰.md
```

---

## ğŸ“Š ä»£ç ç»Ÿè®¡

### åç«¯ä»£ç 
| æ¨¡å— | æ–‡ä»¶æ•° | ä»£ç è¡Œæ•° | è¯´æ˜ |
|------|--------|----------|------|
| APIè·¯ç”± | 4 | ~1,100 | 22ä¸ªRESTæ¥å£ |
| æ•°æ®æ¨¡å‹ | 2 | ~350 | ORMæ¨¡å‹ + Pydantic Schema |
| AIæ¨¡å— | 2 | ~450 | æ¨èç®—æ³• + å»ºè®®ç”Ÿæˆ |
| æœåŠ¡å±‚ | 1 | ~220 | è®¤è¯ä¸æƒé™ |
| é…ç½® | 2 | ~70 | æ•°æ®åº“ + åº”ç”¨é…ç½® |
| æµ‹è¯• | 1 | ~350 | è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ |
| **åç«¯æ€»è®¡** | **12** | **~2,540è¡Œ** |

### æ•°æ®åº“
| ç±»å‹ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| è¡¨ | 4 | users, merchants, products, orders |
| ç´¢å¼• | 12 | ä¸»é”® + ç»„åˆç´¢å¼• + å…¨æ–‡ç´¢å¼• |
| è§¦å‘å™¨ | 2 | è®¢å•é‡‘é¢è‡ªåŠ¨è®¡ç®— |
| è§†å›¾ | 1 | å•†å“é”€é‡ç»Ÿè®¡ |
| **SQLè¡Œæ•°** | **272è¡Œ** |

### æ–‡æ¡£
| æ–‡æ¡£ | è¡Œæ•° | ç”¨é€” |
|------|------|------|
| README.md | 300 | é¡¹ç›®æ¦‚è§ˆ |
| USAGE_GUIDE.md | 509 | ä½¿ç”¨æ‰‹å†Œ |
| PROJECT_SUMMARY.md | 304 | å¼€å‘æ€»ç»“ |
| **æ–‡æ¡£æ€»è®¡** | **1,113è¡Œ** |

### å·¥å…·è„šæœ¬
| æ–‡ä»¶ | è¡Œæ•° | ç”¨é€” |
|------|------|------|
| start.ps1 | 80 | Windowså¯åŠ¨è„šæœ¬ |
| index.html | 277 | æµ‹è¯•é¡µé¢ |
| docker-compose.yml | 66 | Dockerç¼–æ’ |

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—è¯´æ˜

### 1. è®¤è¯æ¨¡å— (`backend/api/auth.py`)
- âœ… ç”¨æˆ·æ³¨å†Œ (POST /api/auth/register/user)
- âœ… å•†å®¶æ³¨å†Œ (POST /api/auth/register/merchant)
- âœ… ç»Ÿä¸€ç™»å½• (POST /api/auth/login)
- ğŸ” JWT Tokenç”Ÿæˆä¸éªŒè¯
- ğŸ”’ bcryptå¯†ç åŠ å¯†

### 2. å•†å®¶ç«¯æ¨¡å— (`backend/api/merchant.py`)
- âœ… å•†å“CRUDç®¡ç†ï¼ˆ4ä¸ªæ¥å£ï¼‰
- âœ… è®¢å•åˆ—è¡¨æŸ¥è¯¢
- âœ… é”€å”®æ•°æ®ç»Ÿè®¡ï¼ˆ3ä¸ªå¯è§†åŒ–æ¥å£ï¼‰
- â­ AIç»è¥å»ºè®®ç”Ÿæˆ

### 3. ä¹°å®¶ç«¯æ¨¡å— (`backend/api/user.py`)
- âœ… å•†å“æœç´¢ï¼ˆå…³é”®è¯+ç±»ç›®+ä»·æ ¼ï¼‰
- âœ… è®¢å•åˆ›å»ºï¼ˆåº“å­˜æ£€æŸ¥+äº‹åŠ¡å¤„ç†ï¼‰
- âœ… è®¢å•å†å²æŸ¥è¯¢
- â­ ä¸ªæ€§åŒ–æ¨èï¼ˆååŒè¿‡æ»¤ï¼‰

### 4. é€šç”¨æ¨¡å— (`backend/api/common.py`)
- âœ… å•†å“åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰
- âœ… å•†å“è¯¦æƒ…
- âœ… ç±»ç›®æŸ¥è¯¢
- âœ… çƒ­é”€å•†å“æ¦œ

### 5. AIæ¨èå¼•æ“ (`backend/ai/recommender.py`)
**ç®—æ³•**ï¼šItem-Based Collaborative Filtering
- æ„å»ºç”¨æˆ·-å•†å“è¯„åˆ†çŸ©é˜µ
- è®¡ç®—å•†å“ç›¸ä¼¼åº¦ï¼ˆä½™å¼¦ç›¸ä¼¼åº¦ï¼‰
- ç”Ÿæˆä¸ªæ€§åŒ–æ¨èåˆ—è¡¨
- å†·å¯åŠ¨ç­–ç•¥ï¼ˆçƒ­é—¨å•†å“å…œåº•ï¼‰

**æŠ€æœ¯æ ˆ**ï¼špandas, numpy, scikit-learn

### 6. AIå»ºè®®ç³»ç»Ÿ (`backend/ai/advisor.py`)
**è§„åˆ™å¼•æ“**ï¼š6æ¡æ™ºèƒ½è§„åˆ™
1. åº“å­˜é¢„è­¦ï¼ˆå‘¨è½¬ç‡ + åº“å­˜é‡ï¼‰
2. æ»é”€é¢„è­¦ï¼ˆé›¶é”€é‡ + é«˜åº“å­˜ï¼‰
3. ä¿ƒé”€å»ºè®®ï¼ˆé”€é‡ä¸‹æ»‘ + ä½å‘¨è½¬ï¼‰
4. æä»·æœºä¼šï¼ˆçƒ­é”€ + ä½ä»·ï¼‰
5. åº“å­˜ç®¡ç†ï¼ˆä½å‘¨è½¬ + é«˜åº“å­˜ï¼‰
6. è¡¥è´§å»ºè®®ï¼ˆé«˜å‘¨è½¬ + ä½åº“å­˜ï¼‰

**åˆ†æç»´åº¦**ï¼š
- è¿‘7å¤©é”€é‡
- ç¯æ¯”å˜åŒ–ç‡
- åº“å­˜å‘¨è½¬ç‡
- åŒç±»ç›®å‡ä»·å¯¹æ¯”

---

## ğŸ—ƒï¸ æ•°æ®åº“è®¾è®¡

### ERå…³ç³»å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  users  â”‚1      N â”‚ orders  â”‚
â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                         â”‚N
                         â”‚
                         â”‚1
                    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
                    â”‚products â”‚
                    â”‚         â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                         â”‚N
                         â”‚
                         â”‚1
                    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
                    â”‚merchantsâ”‚
                    â”‚         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¡¨ç»“æ„
**users** (ç”¨æˆ·è¡¨)
- user_id (PK)
- username (UNIQUE)
- password_hash
- email
- phone
- created_at

**merchants** (å•†å®¶è¡¨)
- merchant_id (PK)
- name
- password_hash
- contact_person
- phone
- registered_at

**products** (å•†å“è¡¨)
- product_id (PK)
- merchant_id (FK â†’ merchants)
- name
- description
- price
- stock
- category
- status (1=ä¸Šæ¶, 2=ä¸‹æ¶)
- created_at

**orders** (è®¢å•è¡¨)
- order_id (PK)
- user_id (FK â†’ users)
- product_id (FK â†’ products)
- merchant_id (FK â†’ merchants)
- quantity
- unit_price
- total_amount
- order_time
- status
- review

---

## ğŸ“¡ APIæ¥å£åˆ†ç±»

### è®¤è¯æ¥å£ï¼ˆ3ä¸ªï¼‰
- POST /api/auth/register/user
- POST /api/auth/register/merchant
- POST /api/auth/login

### å•†å®¶ç«¯æ¥å£ï¼ˆ11ä¸ªï¼‰ğŸ”
- GET /api/merchant/products
- POST /api/merchant/products
- PUT /api/merchant/products/{id}
- DELETE /api/merchant/products/{id}
- GET /api/merchant/orders
- GET /api/merchant/sales/trend
- GET /api/merchant/products/top
- GET /api/merchant/category/distribution
- GET /api/merchant/ai/suggestions â­

### ä¹°å®¶ç«¯æ¥å£ï¼ˆ4ä¸ªï¼‰ğŸ”
- GET /api/user/orders
- POST /api/user/orders
- POST /api/user/search
- GET /api/user/recommendations â­

### é€šç”¨æ¥å£ï¼ˆ4ä¸ªï¼‰
- GET /api/products
- GET /api/products/{id}
- GET /api/categories
- GET /api/hot-products

**å›¾ä¾‹**ï¼š
- ğŸ” éœ€è¦JWTè®¤è¯
- â­ AIåŠŸèƒ½æ¥å£

---

## ğŸ¨ æŠ€æœ¯äº®ç‚¹

1. **AIåŒè·¯å¾„**
   - ä¹°å®¶ï¼šååŒè¿‡æ»¤æ¨è
   - å•†å®¶ï¼šè§„åˆ™å¼•æ“å»ºè®®

2. **æ¶æ„è®¾è®¡**
   - å‰åç«¯åˆ†ç¦»
   - åˆ†å±‚æ¶æ„ï¼ˆAPI-Service-Modelï¼‰
   - ä¾èµ–æ³¨å…¥

3. **å®‰å…¨æªæ–½**
   - JWTæ— çŠ¶æ€è®¤è¯
   - bcryptå¯†ç åŠ å¯†
   - SQLæ³¨å…¥é˜²æŠ¤ï¼ˆORMå‚æ•°åŒ–ï¼‰
   - CORSè·¨åŸŸæ§åˆ¶

4. **å·¥ç¨‹å®è·µ**
   - Dockerå®¹å™¨åŒ–
   - è‡ªåŠ¨åŒ–æµ‹è¯•
   - è¯¦ç»†æ–‡æ¡£
   - ä»£ç æ³¨é‡Šå®Œæ•´

---

## ğŸ“ˆ å¾…å®ç°åŠŸèƒ½

### å‰ç«¯éƒ¨åˆ†ï¼ˆä¼˜å…ˆçº§ï¼‰
1. **é«˜ä¼˜å…ˆçº§**
   - [ ] Vue3é¡¹ç›®åˆå§‹åŒ–
   - [ ] å•†å®¶æ•°æ®çœ‹æ¿ï¼ˆEChartså¯è§†åŒ–ï¼‰
   - [ ] ä¹°å®¶å•†å“æµè§ˆé¡µé¢

2. **ä¸­ä¼˜å…ˆçº§**
   - [ ] è´­ç‰©è½¦åŠŸèƒ½
   - [ ] è¯„ä»·ç³»ç»Ÿ
   - [ ] ä¸ªäººä¸­å¿ƒ

3. **ä½ä¼˜å…ˆçº§**
   - [ ] æ”¯ä»˜æ¥å£
   - [ ] å®æ—¶èŠå¤©
   - [ ] ç§»åŠ¨ç«¯é€‚é…

---

**é¡¹ç›®æ€»è¡Œæ•°**ï¼š~4,000è¡Œä»£ç  + 1,100è¡Œæ–‡æ¡£

**å¼€å‘æ—¶é—´**ï¼šçº¦2å¤©ï¼ˆåç«¯å®Œæˆï¼‰

**æŠ€æœ¯éš¾åº¦**ï¼šâ˜…â˜…â˜…â˜…â˜†

**AIé›†æˆåº¦**ï¼šâ˜…â˜…â˜…â˜…â˜…
